コンテキスト	条件	条件の説明	バリエーション	状態モデル
宿泊者名簿管理	宿泊者名簿記入必須	旅館業法に基づき、チェックイン前に全ゲストの宿泊者名簿記入を完了させる必要がある	宿泊者名簿記入ステータス	宿泊者名簿記入状態
予約管理	ダブルブッキング禁止	同一部屋・同一日に複数の予約が重複しないよう在庫管理を厳密に行う		在庫状態
予約管理	チェックイン時刻制約	設定されたチェックイン時刻以降のみチェックイン処理が可能
予約管理	チェックアウト時刻制約	設定されたチェックアウト時刻までにチェックアウト処理を完了する
清掃管理	清掃完了後アサイン	部屋状態がInspected（点検済）またはVacant（待機）の部屋のみチェックイン可能な部屋として割り当てられる	部屋状態ステータス	部屋状態
スタッフ・権限管理	権限による機能制限	スタッフに割り当てられた権限ロールに応じて、利用可能な機能が制限される	権限ロール
スタッフ・権限管理	施設アクセス制限	スタッフは自分に割り当てられた施設のみアクセス可能
予約管理	在庫数整合性	予約済数 + 残数 = 販売可能数が常に成立する		在庫状態
料金管理	料金同期タイミング	料金変更後、即座または定期バッチで外部OTAに同期する	外部連携ステータス
予約管理	在庫同期タイミング	予約取込・キャンセル後、即座に外部OTAに在庫を同期する	外部連携ステータス
予約管理	予約変更時の外部通知	予約情報の変更（ステータス、部屋、日程等）は外部OTAに通知する	予約ステータス	予約状態
宿泊者名簿管理	トークン有効期限	宿泊者名簿記入用トークンは発行から一定期間（例：7日間）のみ有効
料金管理	キャンセルポリシー適用	レートプランに設定されたキャンセルポリシーに従いキャンセル料を計算する	キャンセルポリシー種別
料金管理	最小泊数制限	レートプランに設定された最小泊数以上の予約のみ受け付ける
施設・部屋管理	収容人数制限	部屋タイプの収容可能人数を超える予約は受け付けない
清掃管理	清掃優先順位	次回チェックイン予定時刻が早い部屋を優先的に清掃する
売上分析	売上計上タイミング	チェックアウト完了時に売上を確定・計上する
売上分析	ADR計算式	ADR = 総売上金額 ÷ 販売客室数	売上分析指標
売上分析	OCC計算式	OCC（稼働率） = 販売客室数 ÷ 総客室数 × 100	売上分析指標
売上分析	RevPAR計算式	RevPAR = ADR × OCC（または 総売上金額 ÷ 総客室数）	売上分析指標
外部連携	外部システム切替時の整合性	サイトコントローラー変更時も予約・在庫・料金データの整合性を保つ	サイトコントローラー種別
施設・部屋管理	複数施設での施設切替	複数施設を管理するユーザーは、施設を意識せずシームレスに切り替えられる
清掃管理	モバイル操作対応	清掃ステータス更新など現場作業は片手でも操作可能なUIを提供する	清掃ステータス	清掃状態
