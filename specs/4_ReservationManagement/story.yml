stories:
  # サイトコントローラーからの予約自動取り込み
  - feature: サイトコントローラーからの予約自動取り込み
    actor: 予約管理担当者
    story: 予約管理担当者として、手作業によるミスを削減するために、サイトコントローラー経由でOTAからの予約を自動取得したい
    tracking: "feature.yml:19 - サイトコントローラー経由でOTAからの予約を自動取得"

  - feature: サイトコントローラーからの予約自動取り込み
    actor: 予約管理担当者
    story: 予約管理担当者として、予約の重複を防止するために、取り込み時にダブルブッキングを自動検出したい
    tracking: "feature.yml:25 - ダブルブッキング自動検出ポリシー"

  - feature: サイトコントローラーからの予約自動取り込み
    actor: 予約管理担当者
    story: 予約管理担当者として、取り込み失敗に対応するために、エラー情報を記録して後で確認したい
    tracking: "feature.yml:28 - 取り込みエラー通知ポリシー"

  - feature: サイトコントローラーからの予約自動取り込み
    actor: 予約管理担当者
    story: 予約管理担当者として、OTA予約を確実に取り込むために、サイトコントローラーから定期的にポーリングして予約を登録したい
    tracking: "feature.yml:32 - 既存シナリオ: OTA予約の自動取り込みフロー"

  - feature: サイトコントローラーからの予約自動取り込み
    actor: 予約管理担当者
    story: 予約管理担当者として、取り込みエラーを解消するために、エラー原因を確認して手動入力または再取り込みを実行したい
    tracking: "feature.yml:41 - 既存シナリオ: 予約取り込みエラー対応フロー"

  # ダブルブッキングの検出・調整
  - feature: ダブルブッキングの検出・調整
    actor: 予約管理担当者
    story: 予約管理担当者として、顧客満足度を維持するために、同一部屋・同一日程の重複予約を検出したい
    tracking: "feature.yml:50 - 同一部屋・同一日程で複数予約が発生した場合にダブルブッキングを検出"

  - feature: ダブルブッキングの検出・調整
    actor: 予約管理担当者
    story: 予約管理担当者として、迅速に対応するために、ダブルブッキング検出時に緊急通知を受け取りたい
    tracking: "feature.yml:56 - ダブルブッキング緊急通知ポリシー"

  - feature: ダブルブッキングの検出・調整
    actor: 予約管理担当者
    story: 予約管理担当者として、ダブルブッキングを解消するために、重複予約の詳細を確認して別の部屋に再割り当てしたい
    tracking: "feature.yml:60 - 既存シナリオ: ダブルブッキング解消フロー"

  # 予約の一覧・カレンダー・検索表示
  - feature: 予約の一覧・カレンダー・検索表示
    actor: フロントスタッフ
    story: フロントスタッフとして、当日の受け入れ準備を整えるために、本日のチェックイン予約を一覧で確認したい
    tracking: "feature.yml:78 - 既存シナリオ: 当日チェックイン予約確認フロー"

  - feature: 予約の一覧・カレンダー・検索表示
    actor: 予約管理担当者
    story: 予約管理担当者として、経営判断の材料を得るために、週間の稼働状況をカレンダーで確認したい
    tracking: "feature.yml:87 - 既存シナリオ: 週間稼働状況確認フロー"

  - feature: 予約の一覧・カレンダー・検索表示
    actor: 予約管理担当者
    story: 予約管理担当者として、複数施設の予約状況を把握するために、施設を跨いで予約を同時表示したい
    tracking: "feature.yml:70 - 複数施設の予約状況を同時に確認可能"

  - feature: 予約の一覧・カレンダー・検索表示
    actor: フロントスタッフ
    story: フロントスタッフとして、特定の予約を素早く見つけるために、予約番号やゲスト名で検索したい
    tracking: "feature.yml:75 - 予約検索が実行された"

  # 予約詳細の確認・更新
  - feature: 予約詳細の確認・更新
    actor: 予約管理担当者
    story: 予約管理担当者として、ゲストの要望に応えるために、予約の日程や部屋タイプを変更したい
    tracking: "feature.yml:97 - 日程変更、部屋タイプ変更、ゲスト要望の追記などの更新"

  - feature: 予約詳細の確認・更新
    actor: 予約管理担当者
    story: 予約管理担当者として、予約変更時の問題を防ぐために、変更後の空室状況を自動チェックしたい
    tracking: "feature.yml:103 - 予約変更時の空室チェックポリシー"

  - feature: 予約詳細の確認・更新
    actor: フロントスタッフ
    story: フロントスタッフとして、ゲストの日程変更依頼に対応するために、予約を検索して日程と料金を更新したい
    tracking: "feature.yml:107 - 既存シナリオ: 予約日程変更フロー"

  - feature: 予約詳細の確認・更新
    actor: フロントスタッフ
    story: フロントスタッフとして、ゲストの特別なリクエストに対応するために、到着時刻やアレルギー情報を記録したい
    tracking: "feature.yml:116 - 既存シナリオ: ゲスト特別リクエスト記録フロー"

  # 部屋のアサイン
  - feature: 部屋のアサイン
    actor: 予約管理担当者
    story: 予約管理担当者として、チェックインをスムーズにするために、予約に対して具体的な部屋番号を割り当てたい
    tracking: "feature.yml:126 - 予約に対して具体的な部屋番号を割り当てる"

  - feature: 部屋のアサイン
    actor: 予約管理担当者
    story: 予約管理担当者として、清掃済みの部屋を確実にアサインするために、部屋の清掃ステータスを確認したい
    tracking: "feature.yml:132 - アサイン時の清掃状況チェックポリシー"

  - feature: 部屋のアサイン
    actor: 予約管理担当者
    story: 予約管理担当者として、翌日の準備を効率化するために、前日に予約への部屋アサインを完了したい
    tracking: "feature.yml:136 - 既存シナリオ: チェックイン前日の事前アサインフロー"

  - feature: 部屋のアサイン
    actor: フロントスタッフ
    story: フロントスタッフとして、当日の状況に応じて柔軟に対応するために、部屋のアサインを変更したい
    tracking: "feature.yml:130 - 部屋アサインが変更された"

  # 予約のキャンセル処理
  - feature: 予約のキャンセル処理
    actor: 予約管理担当者
    story: 予約管理担当者として、ゲストからのキャンセル依頼に対応するために、予約を取り消してキャンセル料を判定したい
    tracking: "feature.yml:147 - ゲストからのキャンセル依頼を受け付け、予約を取り消す"

  - feature: 予約のキャンセル処理
    actor: 予約管理担当者
    story: 予約管理担当者として、キャンセルされた部屋を再販売するために、在庫を自動的に解放したい
    tracking: "feature.yml:152 - 部屋在庫解放ポリシー"

  - feature: 予約のキャンセル処理
    actor: 予約管理担当者
    story: 予約管理担当者として、OTA側の在庫と整合性を保つために、キャンセル情報をサイトコントローラーに同期したい
    tracking: "feature.yml:155 - サイトコントローラー同期ポリシー"

  - feature: 予約のキャンセル処理
    actor: フロントスタッフ
    story: フロントスタッフとして、ゲストからのキャンセル連絡に対応するために、予約を検索してキャンセル処理を実行したい
    tracking: "feature.yml:159 - 既存シナリオ: ゲストからのキャンセル受付フロー"

  # 機能横断ストーリー
  - feature: 予約の一覧・カレンダー・検索表示
    actor: 予約管理担当者
    story: 予約管理担当者として、新規予約から部屋アサインまでを効率的に行うために、予約取り込み→一覧確認→アサインの一連フローを実行したい
    tracking: "feature.yml:19,70,126 - 機能横断: 予約取り込みから部屋アサインまでのフロー"

  - feature: ダブルブッキングの検出・調整
    actor: 予約管理担当者
    story: 予約管理担当者として、ダブルブッキング発生時に迅速に対応するために、検出→通知→再割り当て→解消記録の一連フローを実行したい
    tracking: "feature.yml:50,60 - 機能横断: ダブルブッキング検出から解消までのフロー"
