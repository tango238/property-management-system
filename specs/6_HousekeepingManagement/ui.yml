view:
  # ========================================
  # 清掃スタッフ向け画面（モバイル）
  # ========================================

  # 清掃対象部屋の確認
  - name: "清掃対象部屋一覧画面"
    actor: "清掃スタッフ"
    purpose: "チェックアウト済みの部屋を優先順位付きで一覧表示し、清掃業務を効率的に開始する"

    display_fields:
      - "部屋番号"
      - "部屋タイプ"
      - "フロア"
      - "清掃状態"
      - "優先順位"
      - "次のチェックイン時刻"
      - "ゲスト名（次の予約）"

    filters:
      - "フロア"
      - "部屋タイプ"
      - "清掃状態"

    actions:
      - "部屋を選択"
      - "清掃開始"
      - "更新"

    related_models:
      - "部屋"
      - "清掃タスク"

    related_usecases:
      - "清掃対象部屋一覧の確認"
      - "清掃優先順位の確認"

  # 清掃開始・完了記録
  - name: "清掃作業記録画面"
    actor: "清掃スタッフ"
    purpose: "清掃の開始・完了を記録し、部屋状態を更新する"

    display_fields:
      - "部屋番号"
      - "部屋タイプ"
      - "現在の清掃状態"
      - "清掃開始時刻"
      - "次のチェックイン時刻"

    input_fields:
      - field_name: "備考"
        type: "textarea"
        required: false
        placeholder: "特記事項があれば入力"

    actions:
      - "清掃開始"
      - "清掃完了"
      - "Vacant状態に変更"
      - "戻る"

    validations:
      - "Dirty状態の部屋のみ清掃開始可能"
      - "Cleaning状態の部屋のみ清掃完了可能"
      - "Inspected状態の部屋のみVacant変更可能"

    related_models:
      - "部屋"
      - "清掃タスク"

    integration:
      - "プッシュ通知サービス（Vacant変更時に通知送信）"

    related_usecases:
      - "清掃開始の記録"
      - "清掃完了の記録"
      - "部屋のVacant状態への変更"
      - "清掃完了通知の送信"
      - "清掃業務の一連フロー実行"

  # 備品不足記録
  - name: "備品不足記録画面"
    actor: "清掃スタッフ"
    purpose: "清掃中に発見した備品不足や破損を記録する"

    display_fields:
      - "部屋番号"
      - "記録日時"

    input_fields:
      - field_name: "備品種類"
        type: "select"
        required: true
        options:
          - "タオル類"
          - "アメニティ"
          - "リネン類"
          - "消耗品"
          - "備品・設備"
          - "その他"

      - field_name: "備品名"
        type: "text"
        required: true
        placeholder: "例：バスタオル"

      - field_name: "不足数量"
        type: "number"
        required: true
        default: "1"

      - field_name: "状態"
        type: "radio_group"
        required: true
        options:
          - "不足"
          - "破損"
          - "汚損"

      - field_name: "破損写真"
        type: "file_upload"
        required: false
        accepted_types: "image/*"
        description: "破損・汚損の場合は写真を添付"

      - field_name: "備考"
        type: "textarea"
        required: false
        placeholder: "詳細を入力"

    actions:
      - "記録を保存"
      - "補充依頼へ進む"
      - "キャンセル"

    related_models:
      - "備品"
      - "部屋"

    related_usecases:
      - "備品不足の記録"

  # 備品補充依頼
  - name: "備品補充依頼画面"
    actor: "清掃スタッフ"
    purpose: "記録した備品不足に対して補充依頼を送信する"

    display_fields:
      - "部屋番号"
      - "備品名"
      - "不足数量"
      - "状態"
      - "記録日時"

    input_fields:
      - field_name: "緊急度"
        type: "radio_group"
        required: true
        options:
          - "通常"
          - "急ぎ"
          - "緊急"

      - field_name: "補充希望時刻"
        type: "time_picker"
        required: false
        description: "希望がある場合のみ指定"

      - field_name: "連絡事項"
        type: "textarea"
        required: false
        placeholder: "担当部署への連絡事項"

    actions:
      - "補充依頼を送信"
      - "戻る"

    related_models:
      - "補充依頼"
      - "備品"

    related_usecases:
      - "備品補充依頼の送信"

  # 通知一覧（清掃スタッフ）
  - name: "通知一覧画面（清掃スタッフ）"
    actor: "清掃スタッフ"
    purpose: "補充完了通知などを確認する"

    display_fields:
      - "通知種別"
      - "内容"
      - "受信日時"
      - "既読状態"

    filters:
      - "通知種別"
      - "既読/未読"

    actions:
      - "通知を確認"
      - "詳細を見る"

    related_models:
      - "補充依頼"

    related_usecases:
      - "補充完了通知の受信"

  # ========================================
  # フロントスタッフ向け画面
  # ========================================

  # 部屋状況一覧
  - name: "部屋状況一覧画面"
    actor: "フロントスタッフ"
    purpose: "全部屋の清掃状況をリアルタイムで確認し、チェックイン対応を迅速に行う"

    display_fields:
      - "部屋番号"
      - "部屋タイプ"
      - "フロア"
      - "部屋状態"
      - "清掃状態"
      - "次のチェックイン時刻"
      - "ゲスト名"
      - "最終更新時刻"

    filters:
      - "フロア"
      - "部屋タイプ"
      - "部屋状態"
      - "清掃状態"

    actions:
      - "更新"
      - "部屋詳細を見る"
      - "チェックイン処理へ"

    related_models:
      - "部屋"
      - "清掃タスク"

    related_usecases:
      - "清掃状況のリアルタイム確認（フロント）"

  # 通知受信画面
  - name: "清掃完了通知画面"
    actor: "フロントスタッフ"
    purpose: "清掃完了のプッシュ通知を受け取り、部屋の準備完了を把握する"

    display_fields:
      - "通知種別"
      - "部屋番号"
      - "部屋タイプ"
      - "清掃完了時刻"
      - "次のチェックイン時刻"
      - "ゲスト名"

    actions:
      - "通知を確認"
      - "チェックイン処理へ"
      - "部屋状況一覧へ"

    related_models:
      - "部屋"

    integration:
      - "プッシュ通知サービス（通知受信）"

    related_usecases:
      - "清掃完了通知の受信と確認"
      - "チェックイン待ちゲストへの迅速対応"

  # ========================================
  # ダッシュボード
  # ========================================

  - name: "清掃管理ダッシュボード"
    actor: "清掃スタッフ"
    purpose: "清掃業務の全体状況を把握し、効率的に業務を進める"

    display_fields:
      - "本日の清掃対象件数"
      - "清掃完了件数"
      - "清掃中件数"
      - "未着手件数"
      - "高優先度部屋数"
      - "備品不足報告件数"

    tabs:
      - "概要"
      - "清掃対象一覧"
      - "通知"

    actions:
      - "清掃対象一覧へ"
      - "備品不足記録へ"
      - "更新"

    related_models:
      - "清掃タスク"
      - "部屋"
      - "備品"

    related_usecases:
      - "清掃対象部屋一覧の確認"
      - "清掃業務の一連フロー実行"

# ========================================
# 共通コンポーネント
# ========================================
common_components:
  - component_name: "部屋状態バッジ"
    description: "部屋の清掃状態を色分けして表示するバッジコンポーネント（Dirty:赤、Cleaning:黄、Inspected:青、Vacant:緑）"
    used_in:
      - "清掃対象部屋一覧画面"
      - "清掃作業記録画面"
      - "部屋状況一覧画面"
      - "清掃管理ダッシュボード"

  - component_name: "優先順位インジケーター"
    description: "清掃優先順位を視覚的に表示するインジケーター（高優先度は赤、中は黄、低は緑）"
    used_in:
      - "清掃対象部屋一覧画面"
      - "部屋状況一覧画面"
      - "清掃管理ダッシュボード"

  - component_name: "通知バナー"
    description: "プッシュ通知を受信した際に画面上部に表示されるバナー"
    used_in:
      - "清掃対象部屋一覧画面"
      - "清掃作業記録画面"
      - "部屋状況一覧画面"
      - "通知一覧画面（清掃スタッフ）"
      - "清掃完了通知画面"

  - component_name: "部屋情報カード"
    description: "部屋の基本情報（部屋番号、タイプ、フロア、状態）をコンパクトに表示するカード"
    used_in:
      - "清掃対象部屋一覧画面"
      - "清掃作業記録画面"
      - "部屋状況一覧画面"
      - "備品不足記録画面"

  - component_name: "確認ダイアログ"
    description: "清掃開始・完了・Vacant変更時の確認ダイアログ"
    used_in:
      - "清掃作業記録画面"

# ========================================
# バリデーションルール
# ========================================
validations:
  - field: "清掃状態遷移"
    rule: "Dirty → Cleaning → Inspected → Vacant の順でのみ遷移可能"

  - field: "清掃開始"
    rule: "Dirty状態の部屋のみ清掃開始を記録可能"

  - field: "清掃完了"
    rule: "Cleaning状態の部屋のみ清掃完了を記録可能"

  - field: "Vacant変更"
    rule: "Inspected状態の部屋のみVacant状態に変更可能"

  - field: "備品不足記録"
    rule: "備品種類と備品名は必須入力"

  - field: "破損写真"
    rule: "状態が破損・汚損の場合は写真添付を推奨"

  - field: "補充依頼"
    rule: "未送信の備品不足記録が存在する場合のみ補充依頼可能"

  - field: "優先順位"
    rule: "次のチェックイン時刻が2時間以内の場合は高優先度として表示"
