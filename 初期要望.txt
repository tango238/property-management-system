# 宿泊施設管理システム

## 背景
宿泊業界では、宿泊施設を運営するための関係者が多数存在し、それぞれの要望に合わせたり、
様々な法規の中で、売上レポートの作成や予約の管理など様々なタスクの管理を行う必要がある。

## 要求
- 施設、部屋タイプ、部屋などの基本情報が管理できる
- 複数の宿泊施設を管理することができる
- 管理画面を利用するスタッフごとに権限を設定し、使用できる機能や表示できる項目を制限できる
- サイトコントローラーから予約を取り込んで予約状況を確認したり更新したりできる
- お客様の予約状況を確認し、ご要望などを追記することができる
- チェックインの際に必要な宿泊者名簿の記入をゲストが行うことができる
- チェックアウトした部屋から清掃を行い、清掃状況をこまめに更新、清掃が完了したか確認できる
- 各月で売上レポートを作成し、ADRやOCCの推移や対年比などで売上を分析することができる
- スタッフ毎に利用できる施設を割り当てることができる

## 業務概要
- 施設の管理（施設名、住所、アクセス方法などの様々な属性を管理）
- 部屋タイプの管理（分類名、収容可能人数、喫煙可否などの様々な属性を管理）
- 部屋の管理（部屋番号や外部連携の際、部屋を特定するために必要なIDなどの様々な属性を管理）
- スタッフの管理（名前、ログインに使用するメールアドレス、パスワード、連絡先などを管理）
- 権限の管理（スタッフにアサインする権限の管理、利用できる機能や表示項目を制限できるようにする）
- プライシングやレートの管理（シーズン登録やシーズンに応じたプライシングを行うことができる）
- 予約の管理（一覧や検索、カレンダー表示ができる、複数施設でも使いやすく視認性が高いもの）
- チェックイン前のメール通知（ゲストへチェックインの案内を送付する）
- 宿泊者名簿の記入（トークンを発行して、ゲスト自身に宿泊者名簿を記入してもらう）
- 宿泊者名簿の管理（ゲストが記入した宿泊者名簿の管理）
- 清掃状況の管理（清掃スタッフがどの部屋を清掃すればいいのかが一覧でわかる画面が必要、清掃状況を更新し管理できる必要がある）
- 売上分析（各月の売上推移、ADR、OCC、流入元OTA、宿泊者の属性など様々な分析）


## アクター

### 人事部
システム内では主に “スタッフ情報” の管理を担当。
主な関与領域
・スタッフ（フロント、清掃、予約管理等）の登録・管理
・権限ロールの割り当て
・スタッフの連絡先管理・パスワードリセット

### 予約管理部
OTA（楽天、じゃらん、Booking.com など）やサイトコントローラーとの接続を扱う専門職。
主な関与領域
・サイトコントローラー（ねっぱん、Beds24等）との連携設定
・外部予約の取り込み・ステータス更新
・ダブルブッキング発生時の調整
・予約一覧、カレンダー画面での在庫管理
・客室タイプの在庫調整、料金調整（レートコントロール）

### フロントスタッフ
ゲストと直接対応する職種。現場のオペレーションの中心。
主な関与領域
・チェックイン当日のゲスト確認
・宿泊者名簿の回収と確認
・お客様の要望更新（アメニティ、到着時刻、ペット情報など）
・部屋のアサイン（部屋割り）
・チェックアウト処理
・清掃スタッフへの引き継ぎ
・緊急時の滞在者確認（災害時など）

### 清掃スタッフ
清掃→インスペクション→完了報告、という “部屋状態の更新” を担う。
主な関与領域
・清掃対象部屋一覧の確認
・清掃状況の更新（未着手 → 清掃中 → 完了）
・部屋ごとの備品不足の記録
・フロントへの清掃完了通知

### ゲスト
宿泊者名簿の記入や予約情報の確認を行うシステム外ユーザー。
主な関与領域
・宿泊者名簿の入力（トークンリンク）
・事前チェックイン案内メールの受領
・予約内容の確認
・要望の事前入力（到着時刻、リクエスト等）


## サービスポリシー

### 法令遵守と正確性の担保
- 旅館業法に基づく宿泊者名簿の取得・保存を正しく行えること
- 消防法や自治体規定の避難者確認に耐えうる滞在情報を保持すること
- 売上データは監査に耐える正確性と完全性を維持すること

### 現場運用への最適化
- フロントと清掃のリアルタイム連携を阻害しない UI・更新速度であること
- 複数施設を跨ぐ担当者が、施設切り替えを意識せず業務できること
- モバイル前提（清掃スタッフなど）、片手操作でも滞りなく使えること

### 外部サービスの変化に強い構造
- サイトコントローラーが変わっても影響を最小に抑えられる設計
- OTAルール変更（例：Booking.com の料金体系変更）に素早く追従できる柔軟性
- 多言語化（ゲスト向け名簿）の拡張が容易であること

### データを資産化する
- 全予約データを一元管理し、分析しやすい形で保持する
- 各部門（予約/清掃/経理/経営）が必要な情報へ即座にアクセスできる
- "利用者の手入力や判断に依存しすぎない" ことを重要視する


## ビジネスパラメータ
- 部屋と予約、清掃の状況により部屋の状況を細かく分類する
- サイトコントローラーは別の外部サービスに切り替えることがある

### 部屋状態ステータス（Room Status）
- Vacant（待機）
- Occupied（滞在中）
- Dirty（清掃前）
- Cleaning（清掃中）
- Inspected（点検済）
- Out-of-order（故障中）

### 売上分析パラメータ
- ADR（Average Daily Rate）の算出方法
- OCC（Occupancy Rate：稼働率）の計算式
- RevPAR（客室単価 × 稼働率）の採用有無
- OTA別手数料率（楽天・じゃらん・Booking.com 等）

### 外部連携設定（切替可能なもの）
- 使用するサイトコントローラー（ねっぱん / Beds24 / TL-Lincoln 等）
- 施設ごとに異なる API キー・外部ID
- レートプラン別の同期方式（料金主導 or 在庫主導）

■ 権限ロール
- Admin（全権限）
- Reservation Manager
- Front Desk
- Housekeeping
- Accounting
- Owner View Only


## 外部システム
- サイトコントローラー（ねっぱん、Beds24など）